<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ã‚¿ãƒ¬ã‚¾æ”»ç•¥ã‚¢ãƒ—ãƒª - ãƒ–ãƒ«ãƒ¼ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼šã‚¹ã‚¿ãƒ¼ãƒ¬ã‚¾ãƒŠãƒ³ã‚¹</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 100%;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 100%);
            color: #fff;
            line-height: 1.6;
        }
        h1, h2 {
            text-align: center;
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .section {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        .countdown {
            font-size: 2.2em;
            font-weight: bold;
            color: #00ff88;
            text-shadow: 0 0 15px #00ff88, 0 0 25px #00ff88;
            text-align: center;
            padding: 25px;
            background: rgba(0,255,136,0.25);
            border-radius: 12px;
            margin: 15px 0;
            animation: pulse 3s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 15px rgba(0,255,136,0.4); }
            50% { box-shadow: 0 0 30px rgba(0,255,136,0.7); }
            100% { box-shadow: 0 0 15px rgba(0,255,136,0.4); }
        }
        .countdowné–‹å‚¬ä¸­ {
            color: #ffaa00;
            text-shadow: 0 0 15px #ffaa00, 0 0 25px #ffaa00;
            animation: pulse 2s infinite;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 0.9em;
        }
        th, td {
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px;
            text-align: left;
        }
        th {
            background: rgba(100,100,255,0.3);
        }
        .green { background: rgba(0,200,0,0.3); }
        .gray { background: rgba(150,150,150,0.3); }
        .purple { background: rgba(200,0,200,0.3); }
        .yellow { background: rgba(255,255,0,0.3); color: #000; }
        .orange { background: rgba(255,165,0,0.3); }
        .brown { background: rgba(139,69,19,0.3); }
        .blue { background: rgba(0,0,255,0.3); }
        .total { background: rgba(255,0,0,0.4); font-weight: bold; text-align: right; }
        @media (max-width: 600px) {
            .countdown { font-size: 1.6em; padding: 15px; }
            table { font-size: 0.8em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—¡ï¸ ãƒ–ãƒ«ãƒ¼ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼šã‚¹ã‚¿ãƒ¼ãƒ¬ã‚¾ãƒŠãƒ³ã‚¹<br>ã‚¹ãƒãƒ›æ”»ç•¥ã‚¢ãƒ—ãƒª</h1>
        <p style="text-align: center; font-size: 1.1em;">ã‚®ãƒ«ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã¨é€±é–“ç´å“ã‚’ã™ãã«ãƒã‚§ãƒƒã‚¯ï¼<br>ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™â™ª</p>

        <section class="section" id="events">
            <h2>â° ã‚®ãƒ«ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³</h2>
            <div id="guild_dance" class="countdown">
                ã‚®ãƒ«ãƒ‰ãƒ€ãƒ³ã‚¹ (é‡‘æ›œ 19:30ï½19:55) ã¾ã§: <span id="cd_dance">è¨ˆç®—ä¸­...</span>
            </div>
            <div id="guild_hunt" class="countdown">
                æ¬¡å›ã‚®ãƒ«ãƒ‰ãƒãƒ³ãƒˆ (é‡‘åœŸæ—¥ 10:00ï½24:00) ã¾ã§: <span id="cd_hunt">è¨ˆç®—ä¸­...</span>
            </div>
            <p style="text-align: center; font-size: 0.9em; opacity: 0.8;">â€»JSTåŸºæº– | é–‹å‚¬ä¸­ã¯ã€Œé–‹å‚¬ä¸­ã€ã¨è¡¨ç¤º</p>
        </section>

        <section class="section" id="weekly-delivery">
            <h2>ğŸ“¦ ç”Ÿç”£è· é€±é–“ç´å“ä¸€è¦§</h2>
            <p style="text-align: center; font-size: 0.9em; opacity: 0.8;">æ¯é€±ã®ç´å“ã‚¯ã‚¨ã‚¹ãƒˆå‚è€ƒè¡¨ï¼ˆãƒã‚¤ãƒ³ãƒ‰/ãƒ›ãƒ¼ãƒ ã‚³ã‚¤ãƒ³ç›®å®‰ï¼‰</p>
            <table>
                <thead>
                    <tr>
                        <th>ã‚¯ãƒ©ã‚¹</th>
                        <th>ç´å“ã‚¢ã‚¤ãƒ†ãƒ åç§°</th>
                        <th>ç´å“æ•°é‡</th>
                        <th>æ¡å–ç‰©ãƒ»ææ–™</th>
                        <th>åŠ å·¥æ•°é‡</th>
                        <th>æ¡å–å ´æ‰€</th>
                        <th>è³¼å…¥é‡‘é¡ (ãƒã‚¤ãƒ³ãƒ‰)</th>
                        <th>ãƒ›ãƒ¼ãƒ ã‚³ã‚¤ãƒ³</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="green"><td>æ¤ç”Ÿå­¦</td><td>å¹²ã—è‰</td><td>80</td><td>è‘‰è‰é¡</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="green"><td>æ¤ç”Ÿå­¦</td><td>é…¸ã£ã±ã„æœå®Ÿã®æ¶²ä½“</td><td>80</td><td>é‡èœæœç‰©é¡</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="green"><td>æ¤ç”Ÿå­¦</td><td>åŸºè³ªåœŸ</td><td>80</td><td>ã‚­ãƒã‚³é¡</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="green"><td>æ¤ç”Ÿå­¦</td><td>æ¨¹è„‚</td><td>80</td><td>ç´°æç­‰</td><td>-</td><td>ç”£ã®éºè·¡ ä¸Š</td><td>12480</td><td>4160</td></tr>

                    <tr class="gray"><td>é‰±ç‰©å­¦</td><td>ç²˜åœŸ</td><td>80</td><td>é‰±ç‰©çµæ™¶å…¨èˆ¬</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="gray"><td>é‰±ç‰©å­¦</td><td>ç´°ç ‚</td><td>80</td><td>é‰±ç‰©çµæ™¶å…¨èˆ¬</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="gray"><td>é‰±ç‰©å­¦</td><td>æ¸…ã‚‰ã‹ãªæ¹§æ°´</td><td>80</td><td>é‰±ç‰©çµæ™¶å…¨èˆ¬</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="gray"><td>é‰±ç‰©å­¦</td><td>é‡‘å±ç ‚</td><td>80</td><td>ãƒ–ãƒ«ãƒ¼é‰±ç­‰</td><td>-</td><td>å·¨å¡”ã®éºè·¡ ãƒãƒ«ãƒ¼é‰±</td><td>12480</td><td>4160</td></tr>

                    <tr class="purple"><td>çµæ™¶å­¦</td><td>ç²˜åœŸ</td><td>80</td><td>é‰±ç‰©çµæ™¶å…¨èˆ¬</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="purple"><td>çµæ™¶å­¦</td><td>ç´°ç ‚</td><td>80</td><td>é‰±ç‰©çµæ™¶å…¨èˆ¬</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="purple"><td>çµæ™¶å­¦</td><td>æ¸…ã‚‰ã‹ãªæ¹§æ°´</td><td>80</td><td>é‰±ç‰©çµæ™¶å…¨èˆ¬</td><td>-</td><td>-</td><td>5280</td><td>1760</td></tr>
                    <tr class="purple"><td>çµæ™¶å­¦</td><td>å²©å¡©</td><td>80</td><td>çŸ³ç°å²©ç­‰</td><td>-</td><td>ã‚«ãƒŠãƒŸã‚¢é›†è½ãƒãƒ¼ã‚¿ãƒ« å—ç­‰</td><td>12480</td><td>4160</td></tr>

                    <tr class="yellow"><td>æ–™ç†</td><td>å°éº¦ç²‰</td><td>45</td><td>å°éº¦</td><td>135</td><td>ãƒŸãƒ³ã‚¹ã‚¿ãƒ¼ãƒ»ãƒ›ãƒ«ãƒ³ éº¦ç•‘ç­‰</td><td>21060</td><td>7020</td></tr>

                    <tr class="orange"><td>éŒ¬é‡‘</td><td>è¬ã®çŸ³ã®ç²‰</td><td>40</td><td>è¬çŸ³ã®åŸçŸ³</td><td>160</td><td>ã‚¢ãƒ³ãƒ‰ãƒ©ã®è¬ã®çŸ³ç•‘</td><td>10560</td><td>3520</td></tr>
                    <tr class="orange"><td>éŒ¬é‡‘</td><td>è¬ã®çŸ³ã®ç²‰</td><td>40</td><td>ç´°æç­‰</td><td>200</td><td>ç´°æ</td><td>13200</td><td>4400</td></tr>

                    <tr class="orange"><td>é›é€ </td><td>é‰„ã®ã‚¤ãƒ³ã‚´ãƒƒãƒˆ</td><td>40</td><td>é‰„é‰±çŸ³</td><td>40</td><td>å·¨å¡”ã®éºè·¡ ãƒãƒ«ãƒ¼é‰±</td><td>9840</td><td>3280</td></tr>
                    <tr class="orange"><td>é›é€ </td><td>é‰„ã®ã‚¤ãƒ³ã‚´ãƒƒãƒˆ</td><td>40</td><td>çŸ³ç‚­</td><td>80</td><td>å·¨å¡”ã®éºè·¡ ãƒãƒ«ãƒ¼é‰±</td><td>12480</td><td>4160</td></tr>

                    <tr class="teal"><td>å·¥èŠ¸</td><td>ç ‚å²©ã®ç ¥çŸ³</td><td>40</td><td>çŸ³ç°å²©ç­‰</td><td>80</td><td>ã‚«ãƒŠãƒŸã‚¢é›†è½ãƒãƒ¼ã‚¿ãƒ« å—ç­‰</td><td>19680</td><td>6560</td></tr>
                    <tr class="teal"><td>å·¥èŠ¸</td><td>ç ‚å²©ã®ç ¥çŸ³</td><td>40</td><td>æ¸…ã‚‰ã‹ãªæ°´ç­‰</td><td>40</td><td>ã‚«ãƒŠãƒŸã‚¢é›†è½ãƒãƒ¼ã‚¿ãƒ« å—ç­‰</td><td>2640</td><td>880</td></tr>

                    <tr class="brown"><td>æœ¨å·¥</td><td>æ¾æ</td><td>40</td><td>æ¾ã®åŸæœ¨</td><td>120</td><td>æœ¨æã‚·ãƒ§ãƒƒãƒ—</td><td>20880</td><td>6960</td></tr>

                    <tr class="blue"><td>ç¹”ç‰©</td><td>æ”¹è‰¯ç¶¿å¸ƒ</td><td>20</td><td>æ”¹è‰¯ç¹”ã‚Šç³¸</td><td>200</td><td>äºœéº»ã‚’ã‚¯ãƒ©ãƒ•ãƒˆ</td><td>-</td><td>-</td></tr>
                    <tr class="blue"><td>ç¹”ç‰©</td><td>æ”¹è‰¯ç¶¿å¸ƒ</td><td>20</td><td>äºœéº»</td><td>67</td><td>ã‚«ãƒŠãƒŸã‚¢å‘¨è¾ºã®æ°´è¾º</td><td>16482</td><td>5494</td></tr>

                    <tr class="total"><td colspan="6">åˆè¨ˆé‡‘é¡</td><td colspan="2">211782 ãƒã‚¤ãƒ³ãƒ‰ / 70594 ãƒ›ãƒ¼ãƒ ã‚³ã‚¤ãƒ³</td></tr>
                </tbody>
            </table>
            <p style="font-size: 0.9em; opacity: 0.8; text-align: center;">â€»å€¤ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼æä¾›ç”»åƒã«åŸºã¥ãç›®å®‰ã§ã™ã€‚ã‚²ãƒ¼ãƒ å†…ã§æœ€æ–°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
        </section>
    </div>

    <script>
        function updateCountdowns() {
            const now = new Date();
            const jstOffset = 9 * 60 * 60 * 1000; // JST +9h
            const jstNow = new Date(now.getTime() + jstOffset - (now.getTimezoneOffset() * 60 * 1000));

            // ã‚®ãƒ«ãƒ‰ãƒ€ãƒ³ã‚¹: æ¬¡é‡‘æ›œ 19:30
            let nextDance = new Date(jstNow);
            const day = jstNow.getDay();
            const daysToFriday = (5 - day + 7) % 7;
            if (daysToFriday === 0 && jstNow.getHours() >= 19 && (jstNow.getHours() > 19 || jstNow.getMinutes() >= 55)) {
                nextDance.setDate(nextDance.getDate() + 7);
            } else if (daysToFriday === 0 && jstNow.getHours() < 19 || (jstNow.getHours() === 19 && jstNow.getMinutes() < 30)) {
                // ä»Šæ—¥é–‹å‚¬å‰ â†’ ãã®ã¾ã¾
            } else {
                nextDance.setDate(nextDance.getDate() + daysToFriday);
            }
            nextDance.setHours(19, 30, 0, 0);

            if (jstNow.getDay() === 5 && jstNow.getHours() >= 19 && jstNow.getHours() < 20 && jstNow.getMinutes() < 55) {
                document.getElementById('cd_dance').innerHTML = 'é–‹å‚¬ä¸­ï¼';
                document.getElementById('guild_dance').classList.add('é–‹å‚¬ä¸­');
            } else {
                const diffDance = nextDance - jstNow;
                if (diffDance > 0) {
                    const h = Math.floor(diffDance / (1000 * 60 * 60));
                    const m = Math.floor((diffDance % (1000 * 60 * 60)) / (1000 * 60));
                    const s = Math.floor((diffDance % (1000 * 60)) / 1000);
                    document.getElementById('cd_dance').innerHTML = `${h}æ™‚é–“ ${m}åˆ† ${s}ç§’`;
                } else {
                    document.getElementById('cd_dance').innerHTML = 'çµ‚äº†é–“è¿‘ï¼';
                }
            }

            // ã‚®ãƒ«ãƒ‰ãƒãƒ³ãƒˆ: æ¬¡å›ã®é‡‘ãƒ»åœŸãƒ»æ—¥ã®10:00
            let nextHunt = new Date(jstNow);
            const huntDays = [5, 6, 0]; // é‡‘5,åœŸ6,æ—¥0
            let daysToNextHunt = 7;
            for (let d of huntDays) {
                let tempDays = (d - day + 7) % 7;
                if (tempDays < daysToNextHunt) daysToNextHunt = tempDays;
            }
            nextHunt.setDate(nextHunt.getDate() + daysToNextHunt);
            nextHunt.setHours(10, 0, 0, 0);

            const isHuntDay = huntDays.includes(day);
            const isHuntTime = jstNow.getHours() >= 10 && jstNow.getHours() < 24;
            if (isHuntDay && isHuntTime) {
                document.getElementById('cd_hunt').innerHTML = 'é–‹å‚¬ä¸­ï¼ (1æ—¥2å›ã¾ã§)';
                document.getElementById('guild_hunt').classList.add('é–‹å‚¬ä¸­');
            } else {
                const diffHunt = nextHunt - jstNow;
                if (diffHunt > 0) {
                    const h = Math.floor(diffHunt / (1000 * 60 * 60));
                    const m = Math.floor((diffHunt % (1000 * 60 * 60)) / (1000 * 60));
                    const s = Math.floor((diffHunt % (1000 * 60)) / 1000);
                    document.getElementById('cd_hunt').innerHTML = `${h}æ™‚é–“ ${m}åˆ† ${s}ç§’`;
                } else {
                    document.getElementById('cd_hunt').innerHTML = 'æœ¬æ—¥çµ‚äº†ï¼ æ¬¡å›ã¸';
                }
            }
        }

        updateCountdowns();
        setInterval(updateCountdowns, 1000);
    </script>
</body>
</html>